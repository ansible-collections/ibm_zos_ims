

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Playbooks &mdash; IBM z/OS IMS Collection 1.1.0-beta.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/banner.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Modules" href="modules.html" />
    <link rel="prev" title="Requirements" href="requirements-single.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> IBM z/OS IMS Collection
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="requirements-single.html">Requirements</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Playbooks</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#configuration">Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#inventory">Inventory</a></li>
<li class="toctree-l3"><a class="reference internal" href="#group-vars">Group_vars</a></li>
<li class="toctree-l3"><a class="reference internal" href="#run-the-playbook">Run the playbook</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Ansible Content</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="modules.html">Modules</a></li>
</ul>
<p class="caption"><span class="caption-text">Release Notes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="release_notes.html">Releases</a></li>
</ul>
<p class="caption"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="community_guides.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">IBM z/OS IMS Collection</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Playbooks</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/ansible-collections/ibm_zos_ims/blob/v1.1.0-beta.1/docs/source/playbooks-single.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  





<div class="section" id="playbooks">
<h1>Playbooks<a class="headerlink" href="#playbooks" title="Permalink to this headline">¶</a></h1>
<p>An <a class="reference external" href="https://docs.ansible.com/ansible/latest/user_guide/playbooks_intro.html#playbooks-intro">Ansible playbook</a> consists of organized instructions that define work for
a managed node (host) to be managed with Ansible.</p>
<p>Sample playbooks that demonstrate how to use the collection content are <strong>included</strong>
in the <strong>IBM z/OS IMS collection</strong>. You can find the samples on
<a class="reference external" href="https://github.com/ansible-collections/ibm_zos_ims/tree/master/playbooks">Github</a> or in the collections playbooks directory included with the
installation. For more information about the collections installation and
hierarchy, refer to the RedHat Ansible Certified Content <a class="reference external" href="https://ibm.github.io/z_ansible_collections_doc/installation/installation.html">installation</a> documentation.</p>
<p>The sample playbook can be run with the <code class="docutils literal notranslate"><span class="pre">ansible-playbook</span></code> command with some
modification to the <strong>inventory</strong>, <strong>ansible.cfg</strong> and <strong>group_vars</strong>.</p>
<div class="section" id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h2>
<p>Each release of Ansible provides options in addition to the ones identified in
the sample configurations that are included with this collection. These options
allow you to customize how Ansible operates in your environment. Ansible
supports several sources to configure its behavior and all sources follow the
Ansible <a class="reference external" href="https://docs.ansible.com/ansible/latest/reference_appendices/general_precedence.html#general-precedence-rules">precedence rules</a>.</p>
<p>The Ansible configuration file <cite>ansible.cfg</cite> can override almost all
<code class="docutils literal notranslate"><span class="pre">ansible-playbook</span></code> configurations. Included in the <a class="reference external" href="https://github.com/ansible-collections/ibm_zos_ims/tree/master/playbooks">playbooks directory</a> is a
sample <a class="reference external" href="https://github.com/ansible-collections/ibm_zos_ims/blob/master/playbooks/ansible.cfg">ansible.cfg</a> that can supplement <code class="docutils literal notranslate"><span class="pre">ansible-playbook</span></code> with a
little modification.</p>
<p>In the <a class="reference external" href="https://github.com/ansible-collections/ibm_zos_ims/blob/master/playbooks/ansible.cfg">ansible.cfg</a>, the only required configuration is <code class="docutils literal notranslate"><span class="pre">pipelining</span> <span class="pre">=</span> <span class="pre">True</span></code>.
Setting the <code class="docutils literal notranslate"><span class="pre">pipelining</span> <span class="pre">=</span> <span class="pre">True</span></code> is <strong>required</strong> because it overrides the
default behavior which is to transfer Ansible modules to the target in binary
via SFTP, however this will fail with the error:</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>SyntaxError: Non-UTF-8 code starting with ‘x83’ in file
/a/user1/.ansible/tmp/ansible-tmp-1548232945.35-274513842609025/
AnsiballZ_stat.py on line 1, but no encoding declared;
see <a class="reference external" href="https://python.org/dev/peps/pep-0263/">https://python.org/dev/peps/pep-0263/</a> for details</p>
</div>
<p>Setting <code class="docutils literal notranslate"><span class="pre">pipelining</span> <span class="pre">=</span> <span class="pre">True</span></code> in <a class="reference external" href="https://github.com/ansible-collections/ibm_zos_ims/blob/master/playbooks/ansible.cfg">ansible.cfg</a> will prevent this error.</p>
<p>You can specify the SSH port used by Ansible and instruct Ansible where to
write the temporary files on the target. This can be easily done by adding the
options to your inventory or <cite>ansible.cfg</cite>.</p>
<p>An example of adding these options to <cite>ansible.cfg</cite> is shown below. For more
details, see the sample <a class="reference external" href="https://github.com/ansible-collections/ibm_zos_ims/blob/master/playbooks/ansible.cfg">ansible.cfg</a> notes.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">[</span><span class="nv">defaults</span><span class="p p-Indicator">]</span>
<span class="l l-Scalar l-Scalar-Plain">forks = 25</span>
<span class="l l-Scalar l-Scalar-Plain">remote_tmp = /u/ansible/tmp</span>
<span class="l l-Scalar l-Scalar-Plain">remote_port = 2022</span>
</pre></div>
</div>
<p>For more information about available configurations for <code class="docutils literal notranslate"><span class="pre">ansible.cfg</span></code>, read
the Ansible documentation on <a class="reference external" href="https://docs.ansible.com/ansible/latest/reference_appendices/config.html#ansible-configuration-settings-locations">Ansible configuration settings</a>.</p>
<div class="section" id="inventory">
<h3>Inventory<a class="headerlink" href="#inventory" title="Permalink to this headline">¶</a></h3>
<p>Ansible works with multiple managed nodes (hosts) at the same time, using a
list or group of lists known as an <a class="reference external" href="https://docs.ansible.com/ansible/latest/user_guide/intro_inventory.html">inventory</a>. Once the inventory is defined,
you can use <a class="reference external" href="https://docs.ansible.com/ansible/latest/user_guide/intro_patterns.html#intro-patterns">patterns</a> to select the hosts or groups that you want Ansible to
run against.</p>
<p>Included in the <a class="reference external" href="https://github.com/ansible-collections/ibm_zos_ims/tree/master/playbooks">playbooks directory</a> is a <a class="reference external" href="https://github.com/ansible-collections/ibm_zos_ims/blob/master/playbooks/inventory">sample inventory file</a> that can be
used to manage your nodes with a little modification. This inventory file
should be included when running the sample playbook.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">zsystem</span><span class="p">:</span>
  <span class="nt">hosts</span><span class="p">:</span>
    <span class="nt">zvm</span><span class="p">:</span>
      <span class="nt">ansible_host</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">zos_target_address</span>
      <span class="nt">ansible_user</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">zos_target_username</span>
      <span class="nt">ansible_python_interpreter</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">path_to_python_interpreter_binary_on_zos_target</span>
</pre></div>
</div>
<p>The value for the property <strong>ansible_host</strong> is the hostname of the managed node;
for example, <code class="docutils literal notranslate"><span class="pre">ansible_host:</span> <span class="pre">ec33017A.vmec.svl.ibm.com</span></code></p>
<p>The value for the property <strong>zos_target_username</strong> is the user name to use when
connecting to the host; for example, <code class="docutils literal notranslate"><span class="pre">ansible_user:</span> <span class="pre">omvsadm</span></code>.</p>
<p>The value for the property <strong>ansible_python_interpreter</strong> is the target host
Python path. This is useful for systems with more than one Python installation,
or when Python is not installed in the default location <strong>/usr/bin/python</strong>;
for example,
<code class="docutils literal notranslate"><span class="pre">ansible_python_interpreter:</span> <span class="pre">/usr/lpp/IBM/cyp/v3r8/pyz/bin/python3</span></code></p>
<p>For more information on Python configuration requirements on z/OS, refer to
Ansible <a class="reference external" href="https://docs.ansible.com/ansible/latest/reference_appendices/faq.html#running-on-z-os">FAQ</a>.</p>
<p>Behavioral inventory parameters such as <code class="docutils literal notranslate"><span class="pre">ansible_port</span></code> which allows you
to set the port for a host can be reviewed in the
<a class="reference external" href="https://docs.ansible.com/ansible/latest/user_guide/intro_inventory.html#connecting-to-hosts-behavioral-inventory-parameters">behavioral inventory parameters</a>.</p>
</div>
<div class="section" id="group-vars">
<h3>Group_vars<a class="headerlink" href="#group-vars" title="Permalink to this headline">¶</a></h3>
<p>Although you can store variables in the inventory file, storing separate host
and group variables files may help you organize your variable values more
easily. Included with the sample playbook is a sample variables
file <a class="reference external" href="https://github.com/ansible-collections/ibm_zos_ims/blob/master/playbooks/group_vars/all.yml">all.yml</a>.</p>
<p>The value for the property <strong>_BPXK_AUTOCVT</strong> must be configured to <code class="docutils literal notranslate"><span class="pre">ON</span></code>, for
example; <code class="docutils literal notranslate"><span class="pre">_BPXK_AUTOCVT:</span> <span class="pre">&quot;ON&quot;</span></code>.</p>
<p>The value for the property <strong>ZOAU_HOME</strong> is the ZOA Utilities install root path;
for example, <code class="docutils literal notranslate"><span class="pre">ZOAU_HOME:</span> <span class="pre">&quot;/usr/lpp/IBM/zoautil&quot;</span></code>.</p>
<p>The value for the property <strong>PYTHONPATH</strong> is the ZOA Utilities Python library
path; for example, <code class="docutils literal notranslate"><span class="pre">PYTHONPATH:</span> <span class="pre">&quot;/usr/lpp/IBM/zoautil/lib/&quot;</span></code>.</p>
<p>The value for the property <strong>LIBPATH</strong> is both the path to the
<strong>Python libraries</strong> on the target and the <strong>ZOA Utilities Python library</strong>
path separated by colons <code class="docutils literal notranslate"><span class="pre">:</span></code>; for example,
<code class="docutils literal notranslate"><span class="pre">LIBPATH:</span> <span class="pre">&quot;/usr/lpp/IBM/zoautil/lib/:/usr/lpp/IBM/cyp/v3r8/pyz/lib:/lib:/usr/lib:.&quot;</span></code>.</p>
<p>The value for the property <strong>PATH</strong> is the <strong>ZOA utilities BIN path</strong> and the
<strong>Python BIN path</strong>; for example,
<code class="docutils literal notranslate"><span class="pre">PATH:</span> <span class="pre">&quot;/usr/lpp/IBM/zoautil/bin:/usr/lpp/IBM/cyp/v3r8/pyz/bin:/bin&quot;</span></code>.</p>
<p>The value for the property <strong>_CEE_RUNOPTS</strong> is the invocation Language
Environment® runtime options for programs and used by Python; for example;
<code class="docutils literal notranslate"><span class="pre">_CEE_RUNOPTS:</span> <span class="pre">&quot;FILETAG(AUTOCVT,AUTOTAG)</span> <span class="pre">POSIX(ON)&quot;</span></code>.</p>
<p>The value for properties <strong>__TAG_REDIR_ERR</strong>, <strong>_TAG_REDIR_IN</strong>,
<strong>_TAG_REDIR_OUT</strong> are <code class="docutils literal notranslate"><span class="pre">txt</span></code> and used by the shell; for example,</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>_TAG_REDIR_ERR: <span class="s2">&quot;txt&quot;</span>
_TAG_REDIR_IN: <span class="s2">&quot;txt&quot;</span>
_TAG_REDIR_OUT: <span class="s2">&quot;txt&quot;</span>
</pre></div>
</div>
<p>The value for the property <strong>LANG</strong> is the name of the default locale; the value
<strong>C</strong> specifies the POSIX locale. For example, <code class="docutils literal notranslate"><span class="pre">LANG:</span> <span class="pre">&quot;C&quot;</span></code>.</p>
<p>The included <strong>all.yml</strong> sample variables file contents are:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">environment_vars</span><span class="p">:</span>
  <span class="nt">_BPXK_AUTOCVT</span><span class="p">:</span> <span class="s">&quot;ON&quot;</span>
  <span class="nt">ZOAU_HOME</span><span class="p">:</span> <span class="s">&quot;/usr/lpp/IBM/zoautil&quot;</span>
  <span class="nt">PYTHONPATH</span><span class="p">:</span> <span class="s">&quot;/usr/lpp/IBM/zoautil/lib&quot;</span>
  <span class="nt">LIBPATH</span><span class="p">:</span> <span class="s">&quot;/usr/lpp/IBM/zoautil/lib/:/usr/lpp/IBM/cyp/v3r8/pyz/lib:/usr/lib:/lib:.&quot;</span>
  <span class="nt">PATH</span><span class="p">:</span> <span class="s">&quot;/usr/lpp/IBM/zoautil/bin:/usr/lpp/IBM/cyp/v3r8/pyz/bin:/bin&quot;</span>
  <span class="nt">_CEE_RUNOPTS</span><span class="p">:</span> <span class="s">&quot;FILETAG(AUTOCVT,AUTOTAG)</span><span class="nv"> </span><span class="s">POSIX(ON)&quot;</span>
  <span class="nt">_TAG_REDIR_ERR</span><span class="p">:</span> <span class="s">&quot;txt&quot;</span>
  <span class="nt">_TAG_REDIR_IN</span><span class="p">:</span> <span class="s">&quot;txt&quot;</span>
  <span class="nt">_TAG_REDIR_OUT</span><span class="p">:</span> <span class="s">&quot;txt&quot;</span>
  <span class="nt">LANG</span><span class="p">:</span> <span class="s">&quot;C&quot;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In ZOAU 1.0.2 and later, the property <strong>ZOAU_ROOT</strong> is no longer supported
and must be replaced with the property <strong>ZOAU_HOME</strong>. If you are using ZOAU
version 1.0.1 or lower, you must continue to use the property
<strong>ZOAU_ROOT</strong> which is the ZOA Utilities install root path required for
ZOAU; for example, <code class="docutils literal notranslate"><span class="pre">/usr/lpp/IBM/zoautil</span></code>.</p>
</div>
<p>A reusable approach to storing your group variables is to create top level
dependency variables and rely on variable expansion to substitute the values.
This is preferred, because it tends to reduce misconfiguration when copying
dependency paths. In this example, the top level dependency variables <code class="docutils literal notranslate"><span class="pre">PYZ</span></code>
for Python and <code class="docutils literal notranslate"><span class="pre">ZOAU</span></code> have been added and used through the configuration.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">PYZ</span><span class="p">:</span> <span class="s">&quot;/usr/lpp/IBM/cyp/v3r8/pyz&quot;</span>
<span class="nt">ZOAU</span><span class="p">:</span> <span class="s">&quot;/usr/lpp/IBM/zoautil&quot;</span>

<span class="nt">environment_vars</span><span class="p">:</span>
  <span class="nt">_BPXK_AUTOCVT</span><span class="p">:</span> <span class="s">&quot;ON&quot;</span>
  <span class="nt">ZOAU_HOME</span><span class="p">:</span> <span class="s">&quot;{{</span><span class="nv"> </span><span class="s">ZOAU</span><span class="nv"> </span><span class="s">}}&quot;</span>
  <span class="nt">PYTHONPATH</span><span class="p">:</span> <span class="s">&quot;{{</span><span class="nv"> </span><span class="s">ZOAU</span><span class="nv"> </span><span class="s">}}/lib&quot;</span>
  <span class="nt">LIBPATH</span><span class="p">:</span> <span class="s">&quot;{{</span><span class="nv"> </span><span class="s">ZOAU</span><span class="nv"> </span><span class="s">}}/lib:{{</span><span class="nv"> </span><span class="s">PYZ</span><span class="nv"> </span><span class="s">}}/lib:/lib:/usr/lib:.&quot;</span>
  <span class="nt">PATH</span><span class="p">:</span> <span class="s">&quot;{{</span><span class="nv"> </span><span class="s">ZOAU</span><span class="nv"> </span><span class="s">}}/bin:{{</span><span class="nv"> </span><span class="s">PYZ</span><span class="nv"> </span><span class="s">}}/bin:/bin:/var/bin:/usr/lpp/java/J8.0/bin&quot;</span>
  <span class="nt">_CEE_RUNOPTS</span><span class="p">:</span> <span class="s">&quot;FILETAG(AUTOCVT,AUTOTAG)</span><span class="nv"> </span><span class="s">POSIX(ON)&quot;</span>
  <span class="nt">_TAG_REDIR_ERR</span><span class="p">:</span> <span class="s">&quot;txt&quot;</span>
  <span class="nt">_TAG_REDIR_IN</span><span class="p">:</span> <span class="s">&quot;txt&quot;</span>
  <span class="nt">_TAG_REDIR_OUT</span><span class="p">:</span> <span class="s">&quot;txt&quot;</span>
  <span class="nt">LANG</span><span class="p">:</span> <span class="s">&quot;C&quot;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Currently, IBM Open Enterprise Python for z/OS is the supported and
recommended Python distribution for use on z/OS with Ansible and ZOAU. If
Rocket Python is the only available python on the target, please review the
suggested environment variables below for use with Rocket Python.</p>
</div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1">########################################</span>
<span class="c1"># Rocket suggested environment variables</span>
<span class="c1">########################################</span>
<span class="nt">PYZ</span><span class="p">:</span> <span class="s">&quot;/usr/lpp/rsusr/python36&quot;</span>
<span class="nt">ZOAU</span><span class="p">:</span> <span class="s">&quot;/usr/lpp/IBM/zoautil&quot;</span>

<span class="nt">environment_vars</span><span class="p">:</span>
  <span class="nt">ZOAU_ROOT</span><span class="p">:</span> <span class="s">&quot;{{</span><span class="nv"> </span><span class="s">ZOAU</span><span class="nv"> </span><span class="s">}}&quot;</span>
  <span class="nt">ZOAU_HOME</span><span class="p">:</span> <span class="s">&quot;{{</span><span class="nv"> </span><span class="s">ZOAU</span><span class="nv"> </span><span class="s">}}&quot;</span>
  <span class="nt">PYTHONPATH</span><span class="p">:</span> <span class="s">&quot;{{</span><span class="nv"> </span><span class="s">ZOAU</span><span class="nv"> </span><span class="s">}}/lib:{{</span><span class="nv"> </span><span class="s">PYZ</span><span class="nv"> </span><span class="s">}}:/lib:/usr/lib&quot;</span>
  <span class="nt">_BPXK_AUTOCVT</span><span class="p">:</span> <span class="s">&quot;ON&quot;</span>
  <span class="nt">PATH</span><span class="p">:</span> <span class="s">&quot;{{</span><span class="nv"> </span><span class="s">ZOAU</span><span class="nv"> </span><span class="s">}}/bin:/bin:/var/bin:{{</span><span class="nv"> </span><span class="s">PYZ</span><span class="nv"> </span><span class="s">}}/bin&quot;</span>
  <span class="nt">LIBPATH</span><span class="p">:</span> <span class="s">&quot;{{</span><span class="nv"> </span><span class="s">ZOAU</span><span class="nv"> </span><span class="s">}}/lib:{{</span><span class="nv"> </span><span class="s">PYZ</span><span class="nv"> </span><span class="s">}}/lib:/lib:/usr/lib:.&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="run-the-playbook">
<h3>Run the playbook<a class="headerlink" href="#run-the-playbook" title="Permalink to this headline">¶</a></h3>
<p>Access the sample Ansible playbook and ensure that you are within the collection
playbooks directory where the sample files are included:
<code class="docutils literal notranslate"><span class="pre">~/.ansible/collections/ibm/ibm_zos_ims/playbooks/</span></code>.</p>
<p>Use the Ansible command <code class="docutils literal notranslate"><span class="pre">ansible-playbook</span></code> to run the sample playbook.  The
command syntax is <code class="docutils literal notranslate"><span class="pre">ansible-playbook</span> <span class="pre">-i</span> <span class="pre">&lt;inventory&gt;</span> <span class="pre">&lt;playbook&gt;</span></code>; for example,
<code class="docutils literal notranslate"><span class="pre">ansible-playbook</span> <span class="pre">-i</span> <span class="pre">inventory</span> <span class="pre">zos-collection-sample.yaml</span></code>.</p>
<p>This command assumes that the controller’s public SSH key has been shared with
the managed node. If you want to avoid entering a username and password each
time, copy the SSH public key to the managed node using the <code class="docutils literal notranslate"><span class="pre">ssh-copy-id</span></code>
command; for example, <code class="docutils literal notranslate"><span class="pre">ssh-copy-id</span> <span class="pre">-i</span> <span class="pre">~/.ssh/mykey.pub</span> <span class="pre">user&#64;&lt;hostname&gt;</span></code>.</p>
<p>Alternatively, you can use the <code class="docutils literal notranslate"><span class="pre">--ask-pass</span></code> option to be prompted for the
user’s password each time a playbook is run; for example,
<code class="docutils literal notranslate"><span class="pre">ansible-playbook</span> <span class="pre">-i</span> <span class="pre">inventory</span> <span class="pre">zos-collection-sample.yaml</span> <span class="pre">--ask-pass</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Using <code class="docutils literal notranslate"><span class="pre">--ask-pass</span></code> is not recommended because it will hinder performance.</p></li>
<li><p>Using <code class="docutils literal notranslate"><span class="pre">--ask-pass</span></code> requires <code class="docutils literal notranslate"><span class="pre">sshpass</span></code> be installed on the controller.
For further reference, see the <a class="reference external" href="https://linux.die.net/man/1/sshpass">ask-pass documentation</a>.</p></li>
</ul>
</div>
<p>Optionally, you can configure the console logging verbosity during playbook
execution. This is helpful in situations where communication is failing and
you want to obtain more details. To adjust the logging verbosity, append more
letter <cite>v</cite>’s; for example, <cite>-v</cite>, <cite>-vv</cite>, <cite>-vvv</cite>, or <cite>-vvvv</cite>. Each letter <cite>v</cite>
increases logging verbosity similar to traditional logging levels INFO, WARN,
ERROR, DEBUG.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is a good practice to review the playbook samples before executing them.
It will help you understand what requirements in terms of space, location,
names, authority, and artifacts will be created and cleaned up. Although
samples are always written to operate without the need for the user’s
configuration, flexibility is written into the samples because it is not
easy to determine if a sample has access to the host’s resources.
Review the playbook notes sections for additional details and
configuration.</p>
<p>Sample playbooks often submit JCL that is included with this collection
under the <a class="reference external" href="https://github.com/ansible-collections/ibm_zos_ims/tree/dev/playbooks/files">files directory</a>. Review the sample JCL for necessary edits to
allow for submission on the target system. The most common changes are to
add a CLASS parameter and change the NOTIFY user parameter. For more details,
see the JCL notes section included in the collection.</p>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="modules.html" class="btn btn-neutral float-right" title="Modules" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="requirements-single.html" class="btn btn-neutral float-left" title="Requirements" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, IBM

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <span class="fa fa-book"> Other Versions</span>
        v: v1.1.0-beta.1
        <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
        <dl>
            <dt>Tags</dt>
            <dd><a href="../v1.0.1/index.html">v1.0.1</a></dd>
            <dd><a href="playbooks-single.html">v1.1.0-beta.1</a></dd>
        </dl>
    </div>
</div>


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>